!--------------------------------------------------
!- Saturday, May 20, 2017 12:06:18 AM
!- Import of : 
!- c:\src\zelch64\v1.prg
!- Commodore 64
!--------------------------------------------------
10 GOTO1000
100 SYS49152
110 IFPEEK(830)=1THEN500
120 RETURN
200 IFOU$=""THENRETURN
210 POKE254,ASC(OU$)
220 SYS49155
230 RETURN
300 SYS49158
310 IFPEEK(830)=1THEN500
320 RETURN
400 IFTX$=""THENRETURN
420 SYS49161,TX$
430 RETURN
500 RL=2520:TX$="Standby...":GOSUB400
510 LOAD"{pound}@1",8
590 IFAC>8THEN5000
591 TX$="No Vote..(Sorry)..."
595 GOSUB400
600 TX$="Standby...":GOSUB400
610 LOAD"{pound}b1",8
900 I1=0:I1$="":I2=0:OPEN1,8,15:OPEN8,8,8,"{pound}vote,s,r":INPUT#1,E1
910 IFE1>0THENI1=99:CLOSE8:CLOSE1:RETURN
920 INPUT#8,I1$:INPUT#8,I2
930 FORI=0TOI2:INPUT#8,I1$(I):INPUT#8,I2$(I):NEXTI:FORI=0TOI2:I1(I)=0:NEXTI
940 CLOSE8
950 TX$="Loading results!":GOSUB400
960 OPEN8,8,8,"{pound}vote box,s,r":INPUT#1,E1
970 IFE1>0THENI1=99:CLOSE8:CLOSE1:RETURN
980 INPUT#8,I:IFNA=ITHENI1=1
981 INPUT#8,I:I1(I)=I1(I)+1:IF64 AND ST THENCLOSE8:CLOSE1:RETURN
990 GOTO980
1000 TX$="Loading vote!":GOSUB400:GOSUB900:IFI1=99THEN590
1010 IFI1=1THEN2000
1020 TX$="{clear}{down}{white}Title:"+I1$:GOSUB400
1030 TX$=CHR$(13)+"{light blue}---------------------------------------":SYS49161,TX$
1035 OPEN8,8,8,"{pound}question,s,r":SYS49164:CLOSE8
1039 TX$="{light blue}---------------------------------------":SYS49161,TX$
1040 FORI=0TOI2:TX$=STR$(I+1)+")"+I1$(I):SYS49161,TX$:NEXTI
1045 TX$="{light blue}---------------------------------------":SYS49161,TX$
1050 TX$="Your Choice:":GOSUB400
1055 GOSUB100:IFIN$=""THEN1055:
1057 I=VAL(IN$):IFI=0THEN2000
1060 IFI>I2+1THEN1050
1070 I1(I-1)=I1(I-1)+1:TX$="Saving your vote...":GOSUB400
1080 OPEN8,8,8,"{pound}vote box,a"
1090 PRINT#8,NA:PRINT#8,I-1:CLOSE8
2000 TX$="Results!":GOSUB400
2010 O=0:FORI=0TOI2:O=O+I1(I):NEXT:TX$="Out of "+STR$(O)+" votes...":GOSUB400
2020 FORI=0TOI2:TX$=STR$(I1(I))+"-"+I2$(I):GOSUB400:NEXTI:
2030 TX$="Press RETURN:":GOSUB400
2040 GOSUB100:IFIN$=CHR$(13)THEN600
2050 IFIN$="e"ANDAC>8THEN5000
2060 GOTO2040
5000 TX$="1)Reset Vote Box":GOSUB400
5010 TX$="2)Edit Vote":GOSUB400
5020 TX$="3)Quit":GOSUB400
5030 TX$="4)Re-vote":GOSUB400
5040 GOSUB100:IFIN$="4"THEN1000
5050 IFIN$="3"THEN600
5060 IFIN$="2"THEN7000
5070 IFIN$<>"1"THEN5040
5080 TX$="Reset Vote Box.. sure?:":GOSUB400
5090 GOSUB100:IFIN$="n"THEN5000
5100 IFIN$<>"y"THEN5090
5110 TX$="Your Voting Choice:":GOSUB400
5120 GOSUB100:IFIN$=""THEN5120
5130 I=VAL(IN$)
5140 OPEN1,8,15,"s0:{pound}vote box":CLOSE1
5150 OPEN8,8,8,"{pound}vote box,s,w"
5160 PRINT#8,NA:PRINT#8,I-1:CLOSE8:GOTO5000
7000 TX$="{clear}A)Title:"+I1$+CHR$(13):GOSUB400
7010 TX$="B)# of responses:"+STR$(I2)+CHR$(13):GOSUB400
7020 FORI=0TOI2:TX$=STR$(I+1)+")"+I1$(I)+":"+I2$(I):GOSUB400:NEXTI
7030 TX$="Q)uit to save and exit":GOSUB400
7040 GOSUB100:IFIN$="a"THENTX$=":":GOSUB400:GOSUB300:I1$=I$:GOTO7000
7050 IFIN$="q"THENTX$="q":GOSUB400:GOTO7500
7060 IFIN$="b"THENTX$="b":GOSUB400:GOTO8000
7070 IN=VAL(IN$):IFIN=0ORIN>I2+1THEN7040
7080 TX$="Option:":GOSUB400:GOSUB300:I1$(IN-1)=I$
7090 TX$="Result:":GOSUB400:GOSUB300:I2$(IN-1)=I$:GOTO7000
7500 OPEN1,8,15,"s0:{pound}vote":CLOSE1
7510 OPEN8,8,8,"{pound}vote,s,w"
7520 PRINT#8,I1$:PRINT#8,I2
7530 FORI=0TOI2:PRINT#8,I1$(I):PRINT#8,I2$(I):NEXTI:CLOSE8:GOTO5000
8000 TX$="# of possible responses:":GOSUB400
8010 GOSUB100:IFIN$=""THEN8010
8020 I2=VAL(IN$):IFI2=9THENI2=8:
8030 GOTO7000
