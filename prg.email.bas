!--------------------------------------------------
!- Saturday, May 20, 2017 4:11:37 PM
!- Import of : 
!- c:\src\zelch64\prg.email.prg
!- Commodore 64
!--------------------------------------------------
8000 FORI=0TO9:POKE43+I,PEEK(721+I):NEXT:GOTO3737
8010 TX$=Q$+"User ID#{ct c}":GOSUB210:GOSUB111:I7=I:IFI=0THEN3740
8030 C2=INT(I7/256):C3=C2*256:C1=I7-C3:OPEN1,8,15,"i0":OPEN2,8,3,"0:{pound}userlog"
8040 I=5:GOSUB6:GET#2,A$:INPUT#1,E1
8050 IFA$=""ORE1>0THENSYSZ,2:SYSZ,1:TX$="Not found!":GOSUB210:GOTO3740
8055 SYS38233:I$=A$+I$:SYSZ,2:SYSZ,1:IFI$="EMPTY"ORNA=I7THENE1=5:GOTO8050
8056 IFMF=1THEN8065
8057 TX$="{f1}Send mail to "+I$+"?{ct c}":GOSUB210
8058 GOSUB100:IFIN$="n"THENTX$="n":GOSUB210:GOTO3740
8059 IFIN$<>"y"THEN8058
8060 TX$=IN$:GOSUB210
8065 QQ$="FROM:"+NA$+" ID#"+STR$(NA):SYS38215:QD$="ON:"+STR$(MN)+"/"+STR$(DA)
8070 QD$=QD$+" AT:"+I$:V1=MD:FF$="{pound}mail"+STR$(I7):GOSUB2480:IFMF=0THENGOTO3740
8080 MF=0
8090 TX$="Mail...":GOSUB210:GOSUB8260:OPEN8,MD,8,"0:{pound}mail"+STR$(NA)+",s,r"
8100 GET#8,A$:IFST>0ANDWH=0THENTX$="No Mail Found!":GOSUB210:SYSZ,8:GOTO3740
8110 B=0:IFWH=0THEN8140
8120 SYS38218:GET#8,E$:IFASC(E$)=199THEN8230
8130 B=B+1:IFB<WHTHEN8120
8140 GET#8,A$:IFA$<>"#"ANDST=0THEN8140
8150 SYS38230:I7=VAL(I$):SYSZ,8:GOSUB8260:OPEN8,MD,8,"0:{pound}mail"+STR$(NA)
8160 IFWH>0THENFORI=1TOWH:SYS38218:NEXTI
8170 SYS38212:
8180 SYSZ,8:TX$=CHR$(14)+"{f1}R)eply {f1}H)old {f1}A)gain {f1}D)elete:{ct c}":GOSUB210
8190 GOSUB100:IFIN$="a"THENTX$="a":GOSUB210:OPEN8,MD,8,"{pound}mail"+STR$(NA):GOTO8160
8200 IFIN$="d"THENWH=WH+1:TX$="d":GOSUB210:GOTO8090
8205 IFIN$="h"THENTX$="h":GOSUB210:GOTO8300
8210 IFIN$<>"r"THEN8190
8220 TX$="r":GOSUB210:MF=1:GOTO8030
8230 SYSZ,8:OPEN1,MD,15,"s0:{pound}mail"+STR$(NA):SYSZ,1:TX$="{f1}That's ALL!":GOSUB210
8240 OPEN1,MD,15,"r0:{pound}mail"+STR$(NA)+"={pound}mailfile":SYSZ,1:GOTO3740
8260 OPEN1,MD,15,"i0":SYSZ,1:RETURN
8300 OPEN9,MD,9,"{pound}mailfile,s,r":GET#9,A$:IFST=0THENSYSZ,9:GOTO8320
8310 SYSZ,9:OPEN9,MD,9,"{pound}mailfile,s,w":GOTO8340
8320 OPEN9,MD,9,"{pound}mailfile,a":PRINT#9,CHR$(1)
8340 SYSZ,8:OPEN8,MD,8,"0:{pound}mail"+STR$(NA):IFWH>0THENFORI=1TOWH:SYS38218:NEXTI
8350 SYS38230:IFI$=CHR$(1)THEN8370
8355 IFPEEK(253)=1THENPRINT#9,I$:A=FRE(0):GOTO8370
8360 PRINT#9,I$:GOTO8350
8370 SYSZ,8:SYSZ,9:WH=WH+1:GOTO8090
