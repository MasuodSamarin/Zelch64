!--------------------------------------------------
!- Saturday, May 20, 2017 4:57:13 PM
!- Import of : 
!- c:\src\zelch64\prg.email.prg
!- Commodore 64
!--------------------------------------------------
8000 FORI=0TO9:POKE43+I,PEEK(721+I):NEXT:GOTO2455
8010 TX$=CR$+"{f1}USER ID#{ct c}":GOSUB5:GOSUB30:I1=I:IFI=0THEN2460
8015 C2=INT(I1/256):C1=I1-(C2*256)
8020 PRINT#8,"i0":OPEN2,8,3,"0:{pound}log1":GOSUB8025:GOTO8030
8025 PRINT#8,"p"+CHR$(99)+CHR$(C1)+CHR$(C2)+CHR$(0):RETURN
8030 A$="":GET#2,A$:IFA$<>"{pound}"ORI1=NATHENCLOSE2:TX$="{pink}NOT FOUND!":GOSUB5:GOTO2460
8040 SYS38233:CLOSE2:IFI$="EMPTY"THEN8030
8045 IFMF=1THEN8060
8050 TX$="{f1}SEND MAIL TO "+I$+"(Y/N)?{ct c}":GOSUB5:C$="yn":GOSUB66:IFG=2THEN2460
8060 QQ$="{f1}FROM:"+NA$+" ID#"+STR$(NA):SYS38215:QD$="ON:"+STR$(MN)+"/"+STR$(DA)
8070 QD$=QD$+" AT:"+I$+"{white}":V1=MD:FF$="{pound}mail"+STR$(I1):GOSUB5000:IFMF=0THEN2460
8080 MF=0
8500 TX$="{f1}EMAIL...":GOSUB5:OPEN3,MD,MD,"0:{pound}mail"+STR$(NA)+",s,r"
8510 GET#3,A$:IFST>0ANDWH=0THENTX$="{f1}NO MAIL FOUND!":GOSUB5:CLOSE3:GOTO2460
8520 B=0:IFWH=0THEN8550
8530 SYS38218:GET#3,E$:IFASC(E$)=199THEN8640
8540 B=B+1:IFB<WHTHEN8530
8550 GET#3,A$:IFA$<>"#"ANDST=0THEN8550
8560 SYS38230:I1=VAL(I$):CLOSE3:OPEN3,MD,MD,"{pound}mail"+STR$(NA)
8570 IFWH>0THENFORI=1TOWH:SYS38218:NEXTI
8580 OU$="{clear}":GOSUB21:SYS38212:IFPEEK(252)=1THENTX$="hit return{ct c}":GOSUB5:GOSUB35
8590 CLOSE3:TX$="{ct n}{f1}R)EPLY {f1}H)OLD {f1}A)GAIN {f1}D)ELETE:{ct c}":GOSUB5
8600 GOSUB11:IFIN$="a"THENTX$=IN$:GOSUB5:OPEN3,MD,MD,"{pound}mail"+STR$(NA):GOTO8570
8610 IFIN$="d"THENWH=WH+1:TX$=IN$:GOSUB5:GOTO8500
8615 IFIN$="h"THENTX$=IN$:GOSUB5:GOTO8700
8620 IFIN$<>"r"THEN8600
8630 TX$=IN$:GOSUB5:MF=1:GOTO8015
8640 CLOSE3:PRINT#MD,"s0:{pound}mail"+STR$(NA):TX$="{f1}THAT'S ALL!":GOSUB5
8650 PRINT#MD,"r0:{pound}mail"+STR$(NA)+"={pound}mailfile":GOTO2460
8700 OPEN4,MD,8,"{pound}mailfile,a":INPUT#MD,E:IFE<20THENPRINT#4,CHR$(1):GOTO8720
8710 CLOSE4:OPEN4,MD,8,"{pound}mailfile,s,w"
8720 CLOSE3:OPEN3,MD,9,"0:{pound}mail"+STR$(NA):IFWH>0THENFORI=1TOWH:SYS38218:NEXTI
8730 SYS38230:IFI$=CHR$(1)THEN8760
8740 IFPEEK(253)=1THENPRINT#4,I$:A=FRE(0):GOTO8760
8750 PRINT#4,I$:GOTO8730
8760 CLOSE3:CLOSE4:WH=WH+1:GOTO8500
