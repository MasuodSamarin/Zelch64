!--------------------------------------------------
!- Friday, May 12, 2017 11:14:42 PM
!- Import of : 
!- c:\src\zelch64\bak\prg.sysop.prg
!- Commodore 64
!--------------------------------------------------
8000 SYS51983:ONG-5GOTO9010,9500,8010
8010 TX$="{down}{f1}R)ESET VOTE {f1}E)DIT {f1}Q)UIT:{ct c}":GOSUB5
8020 C$="req":GOSUB19:ONGGOTO8100,8200,2500
8100 TX$="{f1}RESET VOTE BOX?{ct c}":GOSUB5:C$="yn":GOSUB66:ONGGOTO8110,8010
8110 D=8:F$="{pound}vote box":GOSUB22:OPEN2,8,2,F$+",s,w":PRINT#2,"0":CLOSE2:GOTO8010
8200 TX$="{f1}LOADING VOTE!":GOSUB5:OPEN2,8,2,"0:{pound}vote,s,r":INPUT#2,I1$:INPUT#2,I2
8210 FORI=0TOI2:INPUT#2,I1$(I),I2$(I):NEXTI:CLOSE2
8220 TX$="{clear}{f1}A)TITLE:"+I1$:GOSUB5:TX$="{f1}B)RESPONSE #:"+STR$(I2+1):GOSUB5
8230 TX$="{f1}OPTION{white}/{f1}RESULT":GOSUB5:FORI=0TOI2
8240 TX$=STR$(I+1)+"){f1}"+I1$(I)+"{white}/{f1}"+I2$(I):GOSUB5:NEXTI
8250 TX$="{f1}(E/Q/S)/OPTION:{ct c}":GOSUB5:C$="eaqsb":GOSUB19
8260 ONGGOTO8300,8280,8010,8500,8320
8280 TX$=":{ct c}":GOSUB5:GOSUB7:I1$=I$:GOTO8220
8300 TX$="#{ct c}":GOSUB5:GOSUB30:IFI>0ANDI<=I2+1THEN8400
8310 GOTO8220
8320 TX$="#{ct c}":GOSUB5:GOSUB30:IFI<10ANDI>0THENI2=I-1:GOTO8220
8330 GOTO8220
8400 I=I-1:TX$="{f1}OPTION:{ct c}":GOSUB5:GOSUB7:I1$(I)=I$
8410 TX$="{f1}RESULT:{ct c}":GOSUB5:GOSUB7:I2$(I)=I$:GOTO8220
8500 D=8:F$="{pound}vote":GOSUB22:OPEN2,8,2,F$+",s,w"
8510 PRINT#2,I1$:PRINT#2,I2:FORI=0TOI2:PRINT#2,I1$(I):PRINT#2,I2$(I):NEXTI
8520 CLOSE2:GOTO8010
9010 TX$="{f1}WORKING...{ct c}":GOSUB5:D=8:F$="{pound}userlist"
9015 OPEN2,8,2,"0:{pound}log1":GOSUB22:OPEN3,D,3,F$+",s,w"
9017 U=1:V=0:PRINT#3,"{white}VALIDATED LIST ("+STR$(MN)+"/"+STR$(DA)+")"
9040 I=0:GOSUB3:GET#2,A$:IFA$<>"{pound}"THEN9100
9050 SYS38233:GOSUB3:IFI$="EMPTY"THENI$="DELETED USER!"
9060 PRINT#3,"{f1}"+STR$(U+(256*V))+"):"+I$+"{white}"
9070 TX$="{f1}.{ct c}":GOSUB5:U=U+1:IFU=256THENU=0:V=V+1:
9080 GOTO9040
9100 CLOSE3:CLOSE2:TX$=CR$+"{f1}DONE!":GOSUB5:GOTO2500
9500 CH=0:TX$="{f1}MONTH:{ct c}":GOSUB5:GOSUB30:IFI=0ORI>12THEN2500
9510 MN=I:POKE703,MN:TX$="{f1}DAY:{ct c}":GOSUB5:GOSUB30:IFI=0ORI>DA(MN)THEN2500
9515 DA=I:POKE704,DA:TX$="{f1}YEAR:{ct c}":GOSUB5:GOSUB30:IFI=0ORI>99THEN2500
9520 YR=I:POKE712,YR:TX$="{f1}HOUR:{ct c}":GOSUB5:GOSUB30:IFI=0ORI>12THEN2500
9530 H1=I:TX$="{f1}AM OR PM:{ct c}":GOSUB5:C$="ap":GOSUB66:IFG=2THENCH=128
9540 IFH1=12ANDCH=128THENCH=0:GOTO9560
9550 IFH1=12ANDCH=0THENCH=128
9560 H3=INT(H1/10):H2=H1-(H3*10):POKE56587,(16*H3)+H2+CH
9570 H1=0:TX$="{f1}MINUTE:{ct c}":GOSUB5:GOSUB30:IFI<60THENH1=I
9580 H3=INT(H1/10):H2=H1-(H3*10):POKE56586,(16*H3)+H2:POKE56585,0:POKE56584,0
9590 GOTO2500
