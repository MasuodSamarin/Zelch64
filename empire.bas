!--------------------------------------------------
!- Saturday, May 20, 2017 4:56:26 PM
!- Import of : 
!- c:\src\zelch64\empire.prg
!- Commodore 64
!--------------------------------------------------
8000 FORI=0TO9:POKE43+I,PEEK(721+I):NEXT:I1=3:FORI=0TO12:Z1(I)=0:NEXT
8001 IFAC<9THEN8010
8002 TX$="{f1}USE THE{sh space}EDITOR(Y/N)?{ct c}":GOSUB5:C$="yn":GOSUB66:ONGGOTO8500,8010
8010 FI$="{pound}empfile.o":NN=1:GOSUB25:TX$=CR$+"{f1}READING{sh space}RECORDS...":GOSUB5
8017 IFEM=1THENTX$="{f1}ONLY{sh space}ONE{sh space}PLAY{sh space}PER{sh space}CALL!":GOSUB5:GOTO2000
8018 IFCA>1THENTX$="{f1}PLAY{sh space}ONLY{sh space}ON{sh space}YOUR{sh space}1ST{sh space}TWO CALLS!":GOSUB5:GOTO2000
8020 EM=1:OPEN2,8,3,"{pound}emprec":A=U1:B=U2:U1=1:U2=0:I=0
8030 G=U1:GOSUB4:IFI$=STR$(NA)THENCLOSE2:GOTO8200
8040 U1=U1+1:IFU1<21THEN8030
8045 U1=1:GOTO8100
8060 FORI=0TO9:POKE721+I,PEEK(43+I):NEXTI:SYS51971:LOADI$,ST(NP)
8100 TX$="{f1}{down*3}A NEW{sh space}ZACARIAN{sh space}WARLORD"+CR$+"{f1}CREATING{sh space}YOUR{sh space}PLANET...":GOSUB5
8110 G=U1:GOSUB4:IFVAL(I$)=0THEN8150
8120 U1=U1+1:IFU1<21THEN8110
8130 CLOSE2:U1=A:U2=B:CLOSE2:TX$="{f1}{down*2}(SORRY!) YOU'LL HAVE{sh space}TO{sh space}WAIT":GOSUB5
8131 TX$="{f1}FOR{sh space}AN{sh space}EXISTING{sh space}EMPIRE{sh space}TO{sh space}FALL...":GOSUB5:GOTO2000
8150 FORI=1TO12:Z1(I)=0:NEXT:Z1(1)=5000:Z1(3)=2000:Z1(4)=2:Z1(5)=10000:Z1(6)=15
8170 Z1(12)=2000:A$=STR$(NA)+CR$:FORI=1TO12:A$=A$+STR$(Z1(I))+CR$:NEXTI
8180 U1=G:U2=0:I=0:GOSUB3:PRINT#2,A$:CLOSE2
8200 TX$="{f1}OK! LOADING{sh space}YOUR{sh space}STATS!":GOSUB5
8210 OPEN2,8,3,"{pound}emprec":U1=G:U2=0:I=0:GOSUB4:FORI=1TO12:INPUT#2,Z1(I):NEXT
8220 CLOSE2:U1=A:U2=B:TX$="{f1}{down*2}LOADING{sh space}EMPIRE!":GOSUB5:I$="{pound}emprg.p":GOTO8060
8500 TX$=CR$+CR$+"{f1}C)REATE{sh space}A{sh space}NEW{sh space}GAME"+CR$+"{f1}E)DIT A FILE":GOSUB5
8505 TX$="{f1}S)CAN{sh space}PLAYERS"+CR$+"{f1}Q)UIT{sh space}TO{sh space}MAIN":GOSUB5
8510 TX$="{f1}>{ct c}":GOSUB5:C$="ceqs":GOSUB66:ONGGOTO8520,8600,2000,9000
8520 TX$="{f1}ARE{sh space}YOU{sh space}SURE(Y/N)?{ct c}":GOSUB5:C$="yn":GOSUB66:IFG=2THEN8500
8530 TX$="{f1}WORKING...{ct c}":GOSUB5:PRINT#8,"s0:{pound}emprec"
8540 OPEN2,8,3,"{pound}emprec,l,"+CHR$(150):FORI=1TO20:TX$="{f1}.{ct c}":GOSUB5
8550 PRINT#8,"p"+CHR$(99)+CHR$(I)+CHR$(0)+CHR$(145):PRINT#2,"hi"
8560 PRINT#8,"p"+CHR$(99)+CHR$(I)+CHR$(0)+CHR$(0):PRINT#2,STR$(0):NEXTI:CLOSE2
8570 GOTO8500
8600 TX$="{f1}RECORD #{ct c}":GOSUB5:GOSUB30:IFI=0ORI>20THEN8500
8610 G=I:OPEN2,8,3,"{pound}emprec":A=U1:B=U2:I=0:U1=G:U2=0:GOSUB4:IFVAL(I$)=0THEN8625
8620 Z1(0)=VAL(I$):FORI=1TO12:INPUT#2,Z1(I):NEXT
8625 U1=A:U2=B:CLOSE2
8630 TX$="{f1}ID#"+STR$(Z1(0))+":{ct c}":GOSUB5:GOSUB30:IFI$<>""THENZ1(0)=I
8640 TX$="{f1}LAND{sh space}VALUE:"+STR$(Z1(1))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(1)=I
8641 TX$="{f1}WARRIORS:"+STR$(Z1(2))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(2)=I
8642 TX$="{f1}CITIZENS:"+STR$(Z1(3))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(3)=I
8643 TX$="{f1}WAR SHIPS:"+STR$(Z1(4))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(4)=I
8644 TX$="{f1}YEAST:"+STR$(Z1(5))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(5)=I
8645 TX$="{f1}TAX RATE:"+STR$(Z1(6))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(6)=I
8646 TX$="{f1}CAPITOL CITY:"+STR$(Z1(7))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(7)=I
8647 TX$="{f1}CITY{sh space}MARKETS:"+STR$(Z1(8))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(8)=I
8648 TX$="{f1}FOOD PRODUCERS:"+STR$(Z1(9))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(9)=I
8649 TX$="{f1}SPACE HAULERS:"+STR$(Z1(10))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(10)=I
8650 TX$="{f1}DIPLOMATS:"+STR$(Z1(11))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(11)=I
8651 TX$="{f1}MONEY:"+STR$(Z1(12))+":{ct c}":GOSUB5:GOSUB30:IFI>0THENZ1(12)=I
8655 TX$="{f1}SAVE{sh space}THIS(Y/N)?{ct c}":GOSUB5
8656 GOSUB11:IFIN$="n"THENTX$=IN$:GOSUB5:GOTO8630
8657 IFIN$<>"y"THEN8656
8690 TX$=IN$:GOSUB5:IFZ1(0)=0THENTX$="{f1}DELETING...":GOSUB5
8700 OPEN2,8,3,"{pound}emprec":A=U1:B=U2:U1=G:U2=0:I=0:GOSUB3:A$=""
8720 FORI=0TO12:A$=A$+STR$(Z1(I))+CR$:NEXTI:PRINT#2,A$:CLOSE2:U1=A:U2=B:GOTO8500
9000 TX$="{f1}SCANNING...":GOSUB5:A=U1:B=U2:U1=1:U2=0:FORI=0TO20:Z1(I)=0:NEXT
9010 I=0:OPEN2,8,3,"{pound}emprec":FORU1=1TO20:GOSUB4:Z1(U1)=VAL(I$):NEXTU1:CLOSE2
9020 OPEN2,8,3,"{pound}log1":FORX=1TO20:TX$="{f1}"+STR$(X)+"):"
9030 IFZ1(X)=0THENTX$=TX$+"EMPTY":GOTO9050
9040 I=0:U2=INT(Z1(X)/256):U1=Z1(X)-(U2*256):GOSUB4:TX$=TX$+RIGHT$(I$,LEN(I$)-1)
9050 GOSUB5:NEXTX:CLOSE2:GOTO8500
